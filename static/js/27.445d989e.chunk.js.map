{"version":3,"sources":["components/Tooltip.js","components/Cell.js","components/DistrictRow.js","components/Row.js"],"names":["Tooltip","data","children","useState","isTooltipVisible","setIsTooltipVisible","transitions","useTransition","from","TOOLTIP_FADE_OUT","enter","TOOLTIP_FADE_IN","leave","config","mass","tension","friction","className","style","position","onMouseEnter","bind","onMouseLeave","map","item","key","props","div","dangerouslySetInnerHTML","__html","replace","React","memo","statistic","isPerMillion","total","getStatistic","delta","native","to","classnames","interpolate","formatNumber","Math","floor","abs","prevProps","currProps","equal","stateCode","districtName","regionHighlighted","setRegionHighlighted","t","useTranslation","highlightDistrict","useCallback","produce","draftRegionHighlighted","meta","notes","size","TABLE_STATISTICS","showDistricts","setShowDistricts","useLocalStorage","sortColumn","isAscending","sortData","setSortData","history","useHistory","rowElement","useRef","handleSortClick","draftSortData","sortingFunction","districtNameA","districtNameB","districts","localeCompare","highlightState","_setShowDistrict","districtNameStr","UNKNOWN_DISTRICT_KEY","STATE_NAMES","handleStatePageClick","push","handleCollapse","current","scrollIntoView","block","Fragment","onClick","ref","capitalize","formatLastUpdated","last_updated","this","state","invert","HeaderCell","handleSort","Object","keys","sort","a","b"],"mappings":"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","file":"static/js/27.445d989e.chunk.js","sourcesContent":["import {TOOLTIP_FADE_IN, TOOLTIP_FADE_OUT} from '../animations';\n\nimport React, {useState} from 'react';\nimport {useTransition, animated} from 'react-spring';\n\nconst Tooltip = ({data, children}) => {\n  const [isTooltipVisible, setIsTooltipVisible] = useState(false);\n\n  const transitions = useTransition(isTooltipVisible, null, {\n    from: TOOLTIP_FADE_OUT,\n    enter: TOOLTIP_FADE_IN,\n    leave: TOOLTIP_FADE_OUT,\n    config: {\n      mass: 1,\n      tension: 210,\n      friction: 20,\n    },\n  });\n\n  return (\n    <span\n      className=\"Tooltip\"\n      style={{position: 'relative'}}\n      onMouseEnter={setIsTooltipVisible.bind(this, true)}\n      onMouseLeave={setIsTooltipVisible.bind(this, false)}\n    >\n      {children}\n\n      {transitions.map(({item, key, props}) =>\n        item ? (\n          <animated.div key={key} style={props}>\n            <div className=\"message\">\n              <p\n                dangerouslySetInnerHTML={{\n                  __html: data.replace(/\\n/g, '<br/>'),\n                }}\n              ></p>\n            </div>\n          </animated.div>\n        ) : (\n          <animated.div key={key}></animated.div>\n        )\n      )}\n    </span>\n  );\n};\n\nexport default Tooltip;\n","import {formatNumber, getStatistic} from '../utils/commonFunctions';\n\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport React from 'react';\nimport {Spring, animated} from 'react-spring/renderprops.cjs';\n\nconst Cell = ({statistic, data, isPerMillion}) => {\n  const total = getStatistic(data, 'total', statistic, isPerMillion);\n  const delta = getStatistic(data, 'delta', statistic, isPerMillion);\n\n  return (\n    <div className=\"cell statistic\">\n      {statistic !== 'active' && (\n        <Spring native from={{delta: delta}} to={{delta: delta}}>\n          {(props) => (\n            <animated.div className={classnames('delta', `is-${statistic}`)}>\n              {props.delta.interpolate((delta) =>\n                delta > 0\n                  ? '\\u2191' +\n                    formatNumber(\n                      Math.floor(delta),\n                      statistic === 'tested' ? 'short' : null\n                    )\n                  : delta < 0\n                  ? '\\u2193' +\n                    formatNumber(\n                      Math.floor(Math.abs(delta)),\n                      statistic === 'tested' ? 'short' : null\n                    )\n                  : ''\n              )}\n            </animated.div>\n          )}\n        </Spring>\n      )}\n\n      <Spring native from={{total: total}} to={{total: total}}>\n        {(props) => (\n          <animated.div className=\"total\">\n            {props.total.interpolate((total) =>\n              formatNumber(\n                Math.floor(total),\n                statistic === 'tested' ? 'short' : null\n              )\n            )}\n          </animated.div>\n        )}\n      </Spring>\n    </div>\n  );\n};\n\nconst isCellEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.data?.total, currProps.data?.total)) {\n    return false;\n  }\n  if (!equal(prevProps.data?.delta, currProps.data?.delta)) {\n    return false;\n  }\n  if (!equal(prevProps.isPerMillion, currProps.isPerMillion)) {\n    return false;\n  }\n  return true;\n};\n\nexport default React.memo(Cell, isCellEqual);\n","import Cell from './Cell';\nimport Tooltip from './Tooltip';\n\nimport {TABLE_STATISTICS} from '../constants';\n\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport React, {useCallback} from 'react';\nimport {Info} from 'react-feather';\nimport {useTranslation} from 'react-i18next';\n\nfunction DistrictRow({\n  stateCode,\n  districtName,\n  data,\n  isPerMillion,\n  regionHighlighted,\n  setRegionHighlighted,\n}) {\n  const {t} = useTranslation();\n\n  const highlightDistrict = useCallback(() => {\n    if (regionHighlighted.districtName !== districtName) {\n      setRegionHighlighted(\n        produce(regionHighlighted, (draftRegionHighlighted) => {\n          draftRegionHighlighted.stateCode = stateCode;\n          draftRegionHighlighted.districtName = districtName;\n        })\n      );\n    }\n  }, [regionHighlighted, districtName, setRegionHighlighted, stateCode]);\n\n  return (\n    <div\n      className={classnames('row', 'district', {\n        'is-highlighted': regionHighlighted?.districtName === districtName,\n      })}\n      onMouseEnter={highlightDistrict}\n    >\n      <div className=\"cell\">\n        <div className=\"state-name\">{t(districtName)}</div>\n        {data?.meta?.notes && (\n          <Tooltip {...{data: data.meta.notes}}>\n            <Info size={16} />\n          </Tooltip>\n        )}\n      </div>\n\n      {TABLE_STATISTICS.map((statistic) => (\n        <Cell key={statistic} {...{statistic, data, isPerMillion}} />\n      ))}\n    </div>\n  );\n}\n\nconst isDistrictRowEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.data?.total, currProps.data?.total)) {\n    return false;\n  } else if (!equal(prevProps.data?.delta, currProps.data?.delta)) {\n    return false;\n  } else if (\n    !equal(prevProps.data?.['last_updated'], currProps.data?.['last_updated'])\n  ) {\n    return false;\n  } else if (!equal(prevProps.isPerMillion, currProps.isPerMillion)) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.regionHighlighted.districtName,\n      currProps.regionHighlighted.districtName\n    ) &&\n    (equal(prevProps.regionHighlighted.districtName, prevProps.districtName) ||\n      equal(currProps.regionHighlighted.districtName, currProps.districtName))\n  ) {\n    return false;\n  }\n  return true;\n};\n\nexport default React.memo(DistrictRow, isDistrictRowEqual);\n","import Cell from './Cell';\nimport DistrictRow from './DistrictRow';\nimport HeaderCell from './HeaderCell';\nimport Tooltip from './Tooltip';\n\nimport {\n  TABLE_STATISTICS,\n  STATE_NAMES,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\nimport {\n  capitalize,\n  formatLastUpdated,\n  getStatistic,\n} from '../utils/commonFunctions';\n\nimport {\n  ClockIcon,\n  GraphIcon,\n  FilterIcon,\n  FoldUpIcon,\n} from '@primer/octicons-v2-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport React, {useState, useCallback, useRef} from 'react';\nimport {Info} from 'react-feather';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory} from 'react-router-dom';\nimport {useLocalStorage} from 'react-use';\n\nfunction Row({\n  data,\n  stateCode,\n  districtName,\n  isPerMillion,\n  regionHighlighted,\n  setRegionHighlighted,\n}) {\n  const [showDistricts, setShowDistricts] = useState(false);\n  const [sortData, setSortData] = useLocalStorage('districtSortData', {\n    sortColumn: 'confirmed',\n    isAscending: false,\n    delta: false,\n  });\n\n  const history = useHistory();\n  const {t} = useTranslation();\n\n  const rowElement = useRef();\n\n  const handleSortClick = useCallback(\n    (statistic) => {\n      setSortData(\n        produce(sortData, (draftSortData) => {\n          draftSortData.isAscending = !sortData.isAscending;\n          draftSortData.sortColumn = statistic;\n        })\n      );\n    },\n    [sortData, setSortData]\n  );\n\n  const sortingFunction = useCallback(\n    (districtNameA, districtNameB) => {\n      if (sortData.sortColumn !== 'districtName') {\n        return sortData.isAscending\n          ? getStatistic(\n              data.districts[districtNameA],\n              'total',\n              sortData.sortColumn,\n              isPerMillion\n            ) -\n              getStatistic(\n                data.districts[districtNameB],\n                'total',\n                sortData.sortColumn,\n                isPerMillion\n              )\n          : getStatistic(\n              data.districts[districtNameB],\n              'total',\n              sortData.sortColumn,\n              isPerMillion\n            ) -\n              getStatistic(\n                data.districts[districtNameA],\n                'total',\n                sortData.sortColumn,\n                isPerMillion\n              );\n      } else {\n        return sortData.isAscending\n          ? districtNameA.localeCompare(districtNameB)\n          : districtNameB.localeCompare(districtNameA);\n      }\n    },\n    [sortData, data, isPerMillion]\n  );\n\n  const highlightState = useCallback(() => {\n    if (stateCode) {\n      if (regionHighlighted.stateCode !== stateCode) {\n        setRegionHighlighted(\n          produce(regionHighlighted, (draftRegionHighlighted) => {\n            draftRegionHighlighted.stateCode = stateCode;\n            draftRegionHighlighted.districtName = null;\n          })\n        );\n      }\n    } else if (districtName) {\n      if (\n        regionHighlighted.districtName !== districtName ||\n        regionHighlighted.stateCode !== data.stateCode\n      ) {\n        setRegionHighlighted(\n          produce(regionHighlighted, (draftRegionHighlighted) => {\n            draftRegionHighlighted.stateCode = data.stateCode;\n            draftRegionHighlighted.districtName = districtName;\n          })\n        );\n      }\n    }\n  }, [\n    data.stateCode,\n    districtName,\n    regionHighlighted,\n    setRegionHighlighted,\n    stateCode,\n  ]);\n\n  const _setShowDistrict = useCallback(() => {\n    if (data.districts) {\n      setShowDistricts(!showDistricts);\n    }\n  }, [showDistricts, data]);\n\n  let districtNameStr = districtName;\n  if (districtName === UNKNOWN_DISTRICT_KEY) {\n    districtNameStr = `${t(UNKNOWN_DISTRICT_KEY)} [${t(\n      STATE_NAMES[data.stateCode]\n    )}]`;\n  }\n\n  const handleStatePageClick = useCallback(\n    (stateCode) => {\n      history.push(`state/${stateCode}`);\n    },\n    [history]\n  );\n\n  const handleCollapse = useCallback(() => {\n    setShowDistricts(false);\n    rowElement.current.scrollIntoView({\n      block: 'start',\n    });\n\n    // eslint-disable-next-line\n    const faux = stateCode;\n  }, [stateCode]);\n\n  return (\n    <React.Fragment>\n      <div\n        className={classnames(\n          'row',\n          {'is-total': stateCode === 'TT'},\n          {\n            'is-highlighted':\n              (stateCode && regionHighlighted?.stateCode === stateCode) ||\n              (districtName &&\n                regionHighlighted?.districtName === districtName &&\n                regionHighlighted?.stateCode === data.stateCode),\n          }\n        )}\n        onMouseEnter={highlightState}\n        onClick={_setShowDistrict}\n        ref={rowElement}\n      >\n        <div className=\"cell\">\n          <div className=\"state-name fadeInUp\">\n            {t(STATE_NAMES[stateCode]) || districtNameStr}\n          </div>\n          {data?.meta?.notes && (\n            <Tooltip {...{data: data.meta.notes}}>\n              <Info size={16} />\n            </Tooltip>\n          )}\n        </div>\n\n        {TABLE_STATISTICS.map((statistic) => (\n          <Cell key={statistic} {...{data, statistic, isPerMillion}} />\n        ))}\n      </div>\n\n      {showDistricts && (\n        <React.Fragment>\n          <div className=\"state-meta\">\n            {data?.meta?.['last_updated'] && (\n              <p className=\"last-updated\">\n                <ClockIcon />\n                {capitalize(\n                  `${formatLastUpdated(data.meta.last_updated)} ${t('ago')}`\n                )}\n              </p>\n            )}\n            <div\n              className=\"state-page\"\n              onClick={handleStatePageClick.bind(this, stateCode)}\n            >\n              <GraphIcon />\n              <span>\n                {t('See more details on {{state}}', {\n                  state: stateCode,\n                })}\n              </span>\n            </div>\n          </div>\n\n          <div className={classnames('row', 'heading')}>\n            <div\n              className=\"cell heading\"\n              onClick={handleSortClick.bind(this, 'districtName')}\n            >\n              <div className=\"district-name\">{t('District')}</div>\n              {sortData.sortColumn === 'districtName' && (\n                <div\n                  className={classnames('sort-icon', {\n                    invert: !sortData.isAscending,\n                  })}\n                >\n                  <FilterIcon size={10} />\n                </div>\n              )}\n            </div>\n\n            {TABLE_STATISTICS.map((statistic) => (\n              <HeaderCell\n                key={statistic}\n                {...{statistic, sortData, setSortData}}\n                handleSort={handleSortClick.bind(this, statistic)}\n              />\n            ))}\n          </div>\n        </React.Fragment>\n      )}\n\n      {showDistricts &&\n        Object.keys(data.districts)\n          .sort((a, b) => sortingFunction(a, b))\n          .map((districtName) => (\n            <DistrictRow\n              key={districtName}\n              {...{\n                districtName,\n                regionHighlighted,\n                setRegionHighlighted,\n                stateCode,\n                isPerMillion,\n              }}\n              data={data.districts[districtName]}\n            />\n          ))}\n\n      {showDistricts && (\n        <div className=\"spacer\">\n          <p>{`End of ${t(STATE_NAMES[stateCode])}'s districts`}</p>\n          <div className=\"fold\" onClick={handleCollapse}>\n            <FoldUpIcon />\n          </div>\n        </div>\n      )}\n    </React.Fragment>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.data?.total, currProps.data?.total)) {\n    return false;\n  } else if (!equal(prevProps.data?.delta, currProps.data?.delta)) {\n    return false;\n  } else if (!equal(prevProps.isPerMillion, currProps.isPerMillion)) {\n    return false;\n  } else if (\n    (!equal(\n      prevProps.regionHighlighted.stateCode,\n      currProps.regionHighlighted.stateCode\n    ) &&\n      equal(prevProps.regionHighlighted.stateCode, prevProps.stateCode)) ||\n    equal(currProps.regionHighlighted.stateCode, currProps.stateCode)\n  ) {\n    return false;\n  } else if (\n    (!equal(\n      prevProps.regionHighlighted.districtName,\n      currProps.regionHighlighted.districtName\n    ) &&\n      equal(\n        prevProps.regionHighlighted.districtName,\n        prevProps.districtName\n      )) ||\n    equal(currProps.regionHighlighted.districtName, currProps.districtName)\n  ) {\n    return false;\n  } else return true;\n};\n\nexport default React.memo(Row, isEqual);\n"],"sourceRoot":""}